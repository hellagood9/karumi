{"version":3,"sources":["pages/Home/styles.module.scss","assets/images/karumi-logo.png","components/Globals/Layout/styles.module.scss","pages/Login/styles.module.scss","components/LoginForm/styles.module.scss","context/AuthProvider.js","components/Globals/Navbar/index.js","components/Globals/Footer/index.js","components/Globals/Layout/index.js","pages/Home/index.js","components/Globals/NoMatch/index.js","routes/AuthenticatedAppRoutes.js","components/LoginForm/index.js","pages/Login/index.js","routes/UnauthenticatedAppRoutes.js","routes/index.js","App.js","index.js","components/Globals/Navbar/styles.module.scss"],"names":["module","exports","AuthContext","createContext","AuthProvider","children","Provider","value","user","username","name","login","console","log","logout","verifyUser","useAuthContext","useContext","Navbar","className","styles","to","src","logo","alt","data-testid","onClick","Footer","Layout","title","description","Helmet","content","Home","classNames","NoMatch","location","useLocation","pathname","AuthenticatedAppRoutes","exact","path","LoginForm","onSubmit","initialValues","password","validate","values","errors","length","test","useState","formState","setFormState","isSubmitting","setIsSubmitting","touched","setTouched","showToast","setShowToast","setErrors","isInvalid","Object","keys","useEffect","handleOnChange","target","handleOnBlur","evt","preventDefault","setTimeout","type","placeholder","autoComplete","onChange","e","onBlur","feedback","error","disabled","Login","UnauthenticatedAppRoutes","AppRoutes","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f7c1d052.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"styles_btn__2_nSE\",\"btn-primary\":\"styles_btn-primary__rdmKU\",\"title\":\"styles_title__2ADP8\",\"content__inner\":\"styles_content__inner__118z3\",\"verification\":\"styles_verification__2QSEg\"};","module.exports = __webpack_public_path__ + \"static/media/karumi-logo.52432395.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__Fky0R\",\"content\":\"styles_content__1NEmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2e2Zn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"styles_logo__1BjiG\",\"form\":\"styles_form__kE0-j\",\"input-row\":\"styles_input-row__2sGl3\",\"form-control\":\"styles_form-control__MoK8W\",\"btn\":\"styles_btn__21Jky\",\"btn-primary\":\"styles_btn-primary__SvwUc\",\"feedback\":\"styles_feedback__nYdd1\",\"error\":\"styles_error__27jN0\",\"has-error\":\"styles_has-error__1RzNY\"};","import React, { createContext, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst AuthContext = createContext({});\n\nfunction AuthProvider({ children }) {\n  const user = { user: { username: \"Jane Doe\", name: \"Jane Doe\" } };\n\n  const login = () => console.log(\"login\");\n  const logout = () => console.log(\"logout\");\n  const verifyUser = () => console.log(\"verifyUser\");\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout, verifyUser }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nconst useAuthContext = () => useContext(AuthContext);\n\nAuthProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport { useAuthContext, AuthProvider };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuthContext } from \"../../../context/AuthProvider\";\n\nimport logo from \"../../../assets/images/karumi-logo.png\";\nimport styles from \"./styles.module.scss\";\n\nconst Navbar = () => {\n  const {\n    user: { user },\n    logout,\n  } = useAuthContext();\n\n  const username = user && user.username;\n\n  return (\n    <nav className={styles[\"navbar\"]}>\n      <div className={styles[\"nav-left\"]}>\n        <div className={styles[\"logo\"]}>\n          <Link to=\"/\">\n            <img src={logo} alt=\"Karumi's logo\" />\n          </Link>\n        </div>\n      </div>\n      <div className={styles[\"nav-right\"]}>\n        <ul className={styles[\"list\"]}>\n          <li data-testid=\"value\" className={styles[\"list-item\"]}>\n            {username}\n          </li>\n          <li>\n            <button className={styles[\"btn\"]} onClick={logout}>\n              Logout\n            </button>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\n\nconst Footer = () => {\n  return <div>Karumi @ 2020</div>;\n};\n\nexport default Footer;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Helmet } from \"react-helmet\";\n\nimport Navbar from \"../Navbar\";\nimport Footer from \"../Footer\";\n\nimport styles from \"./styles.module.scss\";\n\nconst Layout = ({ children, title, description }) => {\n  return (\n    <div className={styles[\"container\"]}>\n      <Helmet>\n        <title>{title}</title>\n        <meta name=\"description\" content={description} />\n      </Helmet>\n      <Navbar />\n      <main className={styles[\"content\"]}>{children}</main>\n      <Footer />\n    </div>\n  );\n};\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n};\n\nexport default Layout;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { useAuthContext } from \"../../context/AuthProvider\";\n\nimport Layout from \"../../components/Globals/Layout\";\n\nimport styles from \"./styles.module.scss\";\n\nconst Home = () => {\n  const {\n    user: { user },\n  } = useAuthContext();\n\n  const verifyMe = () => console.log(\"verifyMe\");\n\n  const name = user && user.name;\n\n  return (\n    <Layout\n      title=\"Welcome to Karumi\"\n      description=\"Karumi's technical challenge\"\n    >\n      <div className={styles[\"content__inner\"]}>\n        <h1 className={styles[\"title\"]}>Private Area</h1>\n        <h2>Hello, {name}</h2>\n        <button\n          onClick={verifyMe}\n          className={classNames(styles[\"btn\"], styles[\"btn-primary\"])}\n        >\n          Verify user\n        </button>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nconst NoMatch = () => {\n  const location = useLocation();\n\n  return (\n    <div>\n      <h3>\n        No match for <code>{location.pathname}</code>\n      </h3>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\n\nimport Home from \"../pages/Home\";\nimport NoMatch from \"../components/Globals/NoMatch\";\n\nconst AuthenticatedAppRoutes = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route path=\"/login\">\n        <Redirect to=\"/\" />\n      </Route>\n      <Route path=\"*\">\n        <NoMatch />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default AuthenticatedAppRoutes;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nimport logo from \"../../assets/images/karumi-logo.png\";\n\nimport styles from \"./styles.module.scss\";\n\nconst LoginForm = ({ onSubmit }) => {\n  const initialValues = {\n    username: \"\",\n    password: \"\",\n  };\n\n  const validate = (values) => {\n    const errors = {};\n\n    if (!values.password) {\n      errors.password = \"Required\";\n    } else if (values.password.length < 6) {\n      errors.password = \"Min 6 characters\";\n    }\n\n    if (!values.username) {\n      errors.username = \"Required\";\n    } else if (\n      !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.username)\n    ) {\n      errors.username = \"Invalid username (email address)\";\n    }\n\n    return errors;\n  };\n\n  const [formState, setFormState] = useState(initialValues);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [touched, setTouched] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const { username, password } = formState;\n\n  const isInvalid = Object.keys(validate({ username, password })).length > 0;\n\n  useEffect(() => {\n    setErrors(validate({ username, password }));\n\n    if (!isInvalid) {\n      setShowToast(false);\n    }\n  }, [isInvalid, username, password]);\n\n  const handleOnChange = ({ target: { name, value } }) => {\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const handleOnBlur = () => {\n    setTouched(true);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (isInvalid) {\n      setShowToast(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    setTimeout(() => {\n      onSubmit({ username, password });\n      setFormState(initialValues);\n      setTouched(false);\n      setShowToast(false);\n      setIsSubmitting(false);\n    }, 500);\n  };\n\n  return (\n    <form className={styles[\"form\"]} onSubmit={handleSubmit}>\n      <div className={styles[\"logo\"]}>\n        <img src={logo} alt=\"Karumi's logo\" />\n      </div>\n\n      <div className={styles[\"input-row\"]}>\n        <input\n          type=\"email\"\n          name=\"username\"\n          placeholder=\"Username\"\n          autoComplete=\"off\"\n          onChange={(e) => handleOnChange(e)}\n          onBlur={handleOnBlur}\n          value={username}\n          className={classNames(\n            {\n              [styles[\"has-error\"]]: touched && errors.username,\n            },\n            [styles[\"form-control\"]]\n          )}\n        />\n\n        {touched && (\n          <div className={classNames(styles.feedback, styles.error)}>\n            <small>{errors.username}</small>\n          </div>\n        )}\n      </div>\n\n      <div className={styles[\"input-row\"]}>\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"password\"\n          onChange={(e) => handleOnChange(e)}\n          onBlur={handleOnBlur}\n          value={password}\n          className={classNames(\n            {\n              [styles[\"has-error\"]]: touched && errors.password,\n            },\n            [styles[\"form-control\"]]\n          )}\n        />\n\n        {touched && (\n          <div className={classNames(styles.feedback, styles.error)}>\n            <small>{errors.password}</small>\n          </div>\n        )}\n      </div>\n\n      {showToast && (\n        <p className={classNames(styles.feedback, styles.error)}>\n          Username or Password incorrect!\n        </p>\n      )}\n\n      <div className={styles[\"input-row\"]}>\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className={classNames(styles[\"btn\"], styles[\"btn-primary\"])}\n        >\n          {isSubmitting ? \"Submitting...\" : \"Login\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nLoginForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default LoginForm;\n","import React from \"react\";\n\nimport LoginForm from \"../../components/LoginForm\";\nimport { useAuthContext } from \"../../context/AuthProvider\";\n\nimport styles from \"./styles.module.scss\";\n\nconst Login = () => {\n  const { login } = useAuthContext();\n\n  return (\n    <div className={styles[\"wrapper\"]}>\n      <LoginForm onSubmit={login} />\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\n\nimport Login from \"../pages/Login\";\nimport NoMatch from \"../components/Globals/NoMatch\";\n\nconst UnauthenticatedAppRoutes = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"login\" />\n      </Route>\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n      <Route path=\"*\">\n        <NoMatch />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default UnauthenticatedAppRoutes;\n","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { useAuthContext } from \"../context/AuthProvider\";\n\nimport AuthenticatedAppRoutes from \"./AuthenticatedAppRoutes\";\nimport UnauthenticatedAppRoutes from \"./UnauthenticatedAppRoutes\";\n\nconst AppRoutes = () => {\n  const { user } = useAuthContext();\n\n  return (\n    <Router>\n      {user ? <AuthenticatedAppRoutes /> : <UnauthenticatedAppRoutes />}\n    </Router>\n  );\n};\n\nexport default AppRoutes;\n","import React from \"react\";\nimport { AuthProvider } from \"./context/AuthProvider\";\n\nimport AppRoutes from \"./routes\";\n\nimport \"./styles/base.scss\";\nimport \"./styles/typography.scss\";\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <AppRoutes />\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"styles_navbar__3T34a\",\"nav-right\":\"styles_nav-right__3BkrF\",\"list\":\"styles_list__1Vz1E\",\"list-item\":\"styles_list-item__1PqoM\",\"logo\":\"styles_logo__2Lopg\",\"btn\":\"styles_btn__24Ps7\"};"],"sourceRoot":""}